{
  "id": 2,
  "gridPos": {
    "h": 7,
    "w": 24,
    "x": 0,
    "y": 2
  },
  "type": "table-old",
  "title": "CPU Quota",
  "datasource": "$datasource",
  "thresholds": [],
  "links": [],
  "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
  },
  "aliasColors": {},
  "bars": false,
  "columns": [],
  "dashLength": 10,
  "dashes": false,
  "fill": 1,
  "fontSize": "100%",
  "lines": true,
  "linewidth": 1,
  "nullPointMode": "null as zero",
  "pageSize": null,
  "percentage": false,
  "pointradius": 5,
  "points": false,
  "renderer": "flot",
  "scroll": true,
  "seriesOverrides": [],
  "showHeader": true,
  "sort": {
    "col": 2,
    "desc": false
  },
  "spaceLength": 10,
  "stack": false,
  "steppedLine": false,
  "styles": [
    {
      "$$hashKey": "object:470",
      "alias": "Time",
      "align": "auto",
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "pattern": "Time",
      "type": "hidden"
    },
    {
      "$$hashKey": "object:471",
      "alias": "CPU Usage",
      "align": "auto",
      "colorMode": null,
      "colors": [],
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "decimals": 2,
      "link": false,
      "linkTooltip": "Drill down",
      "linkUrl": "",
      "pattern": "Value #A",
      "thresholds": [],
      "type": "number",
      "unit": "short"
    },
    {
      "$$hashKey": "object:472",
      "alias": "CPU Requests",
      "align": "auto",
      "colorMode": null,
      "colors": [],
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "decimals": 2,
      "link": false,
      "linkTooltip": "Drill down",
      "linkUrl": "",
      "pattern": "Value #B",
      "thresholds": [],
      "type": "number",
      "unit": "short"
    },
    {
      "$$hashKey": "object:473",
      "alias": "CPU Requests %",
      "align": "auto",
      "colorMode": null,
      "colors": [],
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "decimals": 2,
      "link": false,
      "linkTooltip": "Drill down",
      "linkUrl": "",
      "pattern": "Value #C",
      "thresholds": [],
      "type": "number",
      "unit": "percentunit"
    },
    {
      "$$hashKey": "object:474",
      "alias": "CPU Limits",
      "align": "auto",
      "colorMode": null,
      "colors": [],
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "decimals": 2,
      "link": false,
      "linkTooltip": "Drill down",
      "linkUrl": "",
      "pattern": "Value #D",
      "thresholds": [],
      "type": "number",
      "unit": "short"
    },
    {
      "$$hashKey": "object:475",
      "alias": "CPU Limits %",
      "align": "auto",
      "colorMode": null,
      "colors": [],
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "decimals": 2,
      "link": false,
      "linkTooltip": "Drill down",
      "linkUrl": "",
      "pattern": "Value #E",
      "thresholds": [],
      "type": "number",
      "unit": "percentunit"
    },
    {
      "$$hashKey": "object:476",
      "alias": "Pod",
      "align": "auto",
      "colorMode": null,
      "colors": [],
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "decimals": 2,
      "link": true,
      "linkTooltip": "Drill down",
      "linkUrl": "/grafana/d/5Ytu2c_7k/kubernetes-compute-resources-pod?var-datasource=$datasource&var-namespace=$namespace&var-pod=$__cell",
      "pattern": "pod",
      "thresholds": [],
      "type": "number",
      "unit": "short"
    },
    {
      "$$hashKey": "object:477",
      "alias": "",
      "align": "auto",
      "colorMode": null,
      "colors": [],
      "dateFormat": "YYYY-MM-DD HH:mm:ss",
      "decimals": 2,
      "pattern": "/.*/",
      "thresholds": [],
      "type": "string",
      "unit": "short"
    }
  ],
  "targets": [
    {
      "exemplar": true,
      "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\",pod=~\"$Pod\",namespace=\"$namespace\"}) by (pod)",
      "format": "table",
      "instant": true,
      "interval": "",
      "intervalFactor": 2,
      "legendFormat": "",
      "refId": "A",
      "step": 10
    },
    {
      "exemplar": true,
      "expr": "sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\",pod=~\"$Pod\", namespace=\"$namespace\"}) by (pod)",
      "format": "table",
      "instant": true,
      "interval": "",
      "intervalFactor": 2,
      "legendFormat": "",
      "refId": "B",
      "step": 10
    },
    {
      "exemplar": true,
      "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\",pod=~\"$Pod\", namespace=\"$namespace\"}) by (pod) / sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\",pod=~\"$Pod\", namespace=\"$namespace\"}) by (pod)",
      "format": "table",
      "instant": true,
      "interval": "",
      "intervalFactor": 2,
      "legendFormat": "",
      "refId": "C",
      "step": 10
    },
    {
      "exemplar": true,
      "expr": "sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\",pod=~\"$Pod\", namespace=\"$namespace\"}) by (pod)",
      "format": "table",
      "instant": true,
      "interval": "",
      "intervalFactor": 2,
      "legendFormat": "",
      "refId": "D",
      "step": 10
    },
    {
      "exemplar": true,
      "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\",pod=~\"$Pod\", namespace=\"$namespace\"}) by (pod) / sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\",pod=~\"$Pod\", namespace=\"$namespace\"}) by (pod)",
      "format": "table",
      "instant": true,
      "interval": "",
      "intervalFactor": 2,
      "legendFormat": "",
      "refId": "E",
      "step": 10
    }
  ],
  "timeFrom": null,
  "timeShift": null,
  "tooltip": {
    "shared": false,
    "sort": 0,
    "value_type": "individual"
  },
  "transform": "table",
  "xaxis": {
    "buckets": null,
    "mode": "time",
    "name": null,
    "show": true,
    "values": []
  },
  "yaxes": [
    {
      "format": "short",
      "label": null,
      "logBase": 1,
      "max": null,
      "min": 0,
      "show": true
    },
    {
      "format": "short",
      "label": null,
      "logBase": 1,
      "max": null,
      "min": null,
      "show": false
    }
  ]
}
